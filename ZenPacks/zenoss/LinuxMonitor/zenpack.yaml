name: ZenPacks.zenoss.LinuxMonitor

classes:
    DEFAULTS:
        base: [zenpacklib.Component]

    VolumeGroup:
        label: Volume Group
        impacts:
            - logicalVolumes
            - snapshotVolumes
        impacted_by:
            - physicalVolumes
        properties:
            curpv:
                label: Physical Volumes
                grid_display: False
            curlv:
                label: Logical Volumes
                grid_display: False
            vgsize:
                label: Size
                type: int
                renderer: Zenoss.render.bytesString
                order: 4.1
            freesize:
                label: Free
                type: int
                renderer: Zenoss.render.bytesString
                order: 4.2
            util:
                label: '% Util'
                type: float
                renderer: Zenoss.render.availability
                order: 4.3
            attributes:
                label: Attributes
                grid_display: False
                type: lines
            uuid:
                grid_display: False
                details_display: False

    LogicalVolume:
        label: Logical Volume
        impacts:
            - snapshotVolumes
            - openstack_core_components
        impacted_by:
            - volumeGroup
        properties:
            attributes:
                label: Attributes
                grid_display: False
                type: lines
            lvsize:
                label: Size
                type: int
                renderer: Zenoss.render.bytesString
            active:
                label: Active
            vgname:
                grid_display: False
                details_display: False
            uuid:
                grid_display: False
                details_display: False
            openstack_core_components:
                type: entity
                label: Cinder Integration
                grid_display: false
                api_only: true
                api_backendtype: method

    PhysicalVolume:
        label: Physical Volume
        impacts:
            - volumeGroup
        properties:
            pvsize:
                label: Size
                type: int
                renderer: Zenoss.render.bytesString
                order: 4.1
            free:
                label: Free
                type: int
                renderer: Zenoss.render.bytesString
                order: 4.2
            util:
                label: '% Util'
                type: float
                renderer: Zenoss.render.availability
                order: 4.3
            format:
                label: Format
                order: 4.0
            attributes:
                label: Attributes
                grid_display: False
                type: lines
            vgname:
                grid_display: False
                details_display: False
            uuid:
                grid_display: False
                details_display: False

    SnapshotVolume:
        label: Snapshot Volume
        impacted_by:
            - volumeGroup
            - logicalVolume
        impacts:
            - openstack_core_components
        properties:
            attributes:
                label: Attributes
                grid_display: False
                type: lines
            lvsize:
                label: Size
                type: int
                renderer: Zenoss.render.bytesString
            active:
                type: boolean
                renderer: Zenoss.render.checkbox
                label: Active
            origin:
                grid_display: False
            vgname:
                grid_display: False
                details_display: False
            uuid:
                grid_display: False
                details_display: False
            openstack_core_components:
                type: entity
                label: Cinder Integration
                grid_display: false
                api_only: true
                api_backendtype: method

class_relationships:
    - Products.ZenModel.Device.Device 1:MC VolumeGroup
    - VolumeGroup 1:MC PhysicalVolume
    - VolumeGroup 1:MC LogicalVolume
    - VolumeGroup 1:MC SnapshotVolume
    - LogicalVolume 1:M SnapshotVolume

device_classes: !ZenPackSpec
    /Server/SSH/Linux:
        zProperties:
            zCollectorPlugins:
                - zenoss.cmd.df
                - zenoss.cmd.linux.cpuinfo
                - zenoss.cmd.linux.ifconfig
                - zenoss.cmd.linux.memory
                - zenoss.cmd.linux.netstat_an
                - zenoss.cmd.linux.netstat_rn
                - zenoss.cmd.linux.process
                - zenoss.cmd.linux.rpm
                - zenoss.cmd.linux.lvm
                - zenoss.cmd.uname
                - zenoss.cmd.uname_a
